<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>For Nabila</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fff0f5;
  font-family:Georgia, serif;
  overflow:hidden;
}

.card{
  text-align:center;
  background:white;
  padding:40px 30px;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.1);
  width:90%;
  max-width:520px;
}

h1{
  font-size:34px;
  margin:10px 0;
}

p{
  margin:10px 0 25px;
  font-size:18px;
}

img{
  width:220px;
  margin-bottom:15px;
  user-select:none;
}

#playArea{
  position:relative;
  height:120px;
}

button{
  padding:14px 28px;
  border:none;
  border-radius:14px;
  font-weight:bold;
  font-size:18px;
  cursor:pointer;
  color:white;
  transition:0.15s;
}

#yesBtn{
  background:#8ee6a0;
  color:#083b13;
  position:absolute;
  left:50%;
  transform:translateX(-120%);
}

#noBtn{
  background:#d11212;
  position:absolute;
  left:50%;
  transform:translateX(20%);
}

#playAudioBtn{
  display:none;
  margin-top:14px;
  background:#111827;
}
</style>
</head>

<body>

<div class="card">

<img id="gif" src="https://gifdb.com/images/high/cute-love-bear-roses-ou7zho5oosxnpo6k.gif">

<h1 id="title">Dear Nabila, will you be my Valentine? ğŸ˜˜</h1>
<p id="sub">Sayang please think carefully.</p>

<div id="playArea">
  <button id="yesBtn">YES</button>
  <button id="noBtn">No</button>
</div>

<button id="playAudioBtn">Tap to play music</button>

<audio id="bgAudio" src="music.mp3" preload="auto" loop></audio>

</div>

<script>
let noCount = 0
let yesSize = 18
let accepted = false

const phrases = [
"Are you sure sayang?",
"PLEASE NABILA I BEG YOU",
"PLEASEEE SAYANGGG",
"Nabila pleasee",
"Sayang please just press yes",
"I am on my knees",
"Okay now you're just being mean",
"Last chance sayang",
"I will cry",
"Nabila pleaseeeeee"
]

const yesBtn = document.getElementById("yesBtn")
const noBtn = document.getElementById("noBtn")
const sub = document.getElementById("sub")
const title = document.getElementById("title")
const gif = document.getElementById("gif")
const bgAudio = document.getElementById("bgAudio")
const playAudioBtn = document.getElementById("playAudioBtn")
const playArea = document.getElementById("playArea")

function growYes(){
  yesSize += 8
  yesBtn.style.fontSize = yesSize + "px"
  yesBtn.style.padding = (14 + noCount*2) + "px " + (28 + noCount*4) + "px"
}

function moveNo(){
  const area = playArea.getBoundingClientRect()
  const btn = noBtn.getBoundingClientRect()

  const pad = 10
  const w = area.width - btn.width - pad
  const h = area.height - btn.height - pad

  const x = Math.random() * w
  const y = Math.random() * h

  noBtn.style.left = x + "px"
  noBtn.style.top = y + "px"
  noBtn.style.transform = "none"
}

async function startMusic(){
  try{
    await bgAudio.play()
    playAudioBtn.style.display = "none"
  }catch{
    playAudioBtn.style.display = "inline-block"
  }
}

playAudioBtn.addEventListener("click", startMusic)

noBtn.addEventListener("click", function(){
  if(accepted) return
  noCount++
  growYes()
  sub.textContent = phrases[Math.min(noCount, phrases.length - 1)]
  moveNo()
})

noBtn.addEventListener("mouseenter", function(){
  if(accepted) return
  if(noCount >= 1) moveNo()
})

yesBtn.addEventListener("click", async function(){
  if(accepted) return
  accepted = true

  title.textContent = "OKAY YAYYY I LOVE YOU SAYANG ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’"
  sub.textContent = "I knew you would say yes ğŸ˜."
  gif.src = "https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif"

  noBtn.remove()

  await startMusic()
})
</script>

</body>
</html>
